<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>üåª Sunflower Voice Cart</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Noto+Sans+Devanagari:wght@400;500;600&display=swap');
*{margin:0;padding:0;box-sizing:border-box}
:root{--y1:#F7C948;--y2:#E8A817;--y3:#D4911E;--br:#5D4037;--brd:#3E2723;--gn:#6B8E23;--bg:#FFFDE7;--bgw:#FFF9E6;--wh:#fff;--td:#3E2723;--tm:#6D4C41;--ts:#A1887F;--dn:#E57373;--dnb:#FFEBEE;--ok:#66BB6A;--okb:#E8F5E9}
body{font-family:'Poppins','Noto Sans Devanagari',sans-serif;background:var(--bg);color:var(--td);min-height:100vh;overflow-x:hidden}
.sun-bg{position:fixed;inset:0;z-index:0;pointer-events:none;overflow:hidden}
.sf{position:absolute;opacity:.06}
.sf1{width:200px;height:200px;top:-20px;left:-30px;animation:s1 12s ease-in-out infinite}
.sf2{width:260px;height:260px;top:15%;right:-50px;animation:s2 15s ease-in-out infinite}
.sf3{width:180px;height:180px;bottom:5%;left:-20px;animation:s1 18s ease-in-out infinite 2s}
.sf4{width:150px;height:150px;top:50%;right:10px;animation:s2 14s ease-in-out infinite 3s}
.sf5{width:220px;height:220px;bottom:25%;left:30%;animation:s1 16s ease-in-out infinite 5s}
.sf6{width:170px;height:170px;top:35%;left:10%;animation:s2 13s ease-in-out infinite 1s}
@keyframes s1{0%,100%{transform:rotate(0) translateY(0)}25%{transform:rotate(5deg) translateY(-10px)}75%{transform:rotate(4deg) translateY(-7px)}}
@keyframes s2{0%,100%{transform:rotate(0) translateY(0)}25%{transform:rotate(-4deg) translateY(8px)}75%{transform:rotate(-3deg) translateY(4px)}}
.dot-bg{position:fixed;inset:0;z-index:0;pointer-events:none;background-image:radial-gradient(rgba(244,196,48,.05) 1px,transparent 1px);background-size:24px 24px}
.mwrap{position:relative;z-index:1}
.hdr{background:linear-gradient(135deg,#F7C948,#E8A817,#D4911E);padding:18px 16px 30px;text-align:center;position:relative;overflow:hidden}
.hdr::before{content:'';position:absolute;top:-40%;left:-30%;width:160%;height:160%;background:radial-gradient(circle at 30% 40%,rgba(255,255,255,.12),transparent 50%);pointer-events:none}
.hdr::after{content:'';position:absolute;bottom:-12px;left:-5%;right:-5%;height:24px;background:var(--bg);border-radius:50% 50% 0 0}
.hdr *{position:relative;z-index:1}
.hdr .logo{font-size:2.5rem;display:inline-block;animation:lp 3s ease-in-out infinite;filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}
@keyframes lp{0%,100%{transform:scale(1) rotate(0)}50%{transform:scale(1.1) rotate(10deg)}}
.hdr h1{font-size:1.5rem;color:#fff;font-weight:700;text-shadow:0 2px 4px rgba(0,0,0,.1);margin:4px 0 2px}
.hdr p{color:rgba(255,255,255,.88);font-size:.75rem;font-weight:300}
.cn{max-width:500px;margin:0 auto;padding:16px 12px 90px}
.cd{background:var(--wh);border-radius:16px;padding:14px;margin-bottom:12px;box-shadow:0 2px 14px rgba(244,196,48,.13);border:1px solid rgba(244,196,48,.08)}
.cl{font-size:.67rem;text-transform:uppercase;letter-spacing:1.2px;color:var(--ts);font-weight:600;margin-bottom:10px;display:flex;align-items:center;gap:6px}
.cl::after{content:'';flex:1;height:1px;background:linear-gradient(to right,rgba(244,196,48,.25),transparent)}
.lr{display:flex;gap:6px}
.lb{flex:1;padding:10px 8px;border:2px solid rgba(244,196,48,.15);border-radius:12px;background:var(--bgw);cursor:pointer;font-family:inherit;font-size:.82rem;color:var(--tm);transition:.25s;text-align:center;font-weight:500}
.lb:hover{border-color:var(--y1)}
.lb.on{border-color:var(--y2);background:linear-gradient(135deg,var(--y1),var(--y2));color:#fff;box-shadow:0 3px 10px rgba(244,196,48,.3)}
.tw{display:flex;gap:6px;align-items:center}
.tsc{display:flex;gap:6px;overflow-x:auto;flex:1;padding-bottom:3px;scrollbar-width:none}
.tsc::-webkit-scrollbar{display:none}
.tb{padding:7px 14px;border-radius:20px;border:2px solid rgba(244,196,48,.15);background:var(--bgw);cursor:pointer;font-family:inherit;font-size:.72rem;color:var(--tm);transition:.25s;white-space:nowrap;font-weight:500;display:flex;align-items:center;gap:5px;flex-shrink:0}
.tb.on{background:linear-gradient(135deg,var(--y1),var(--y2));color:#fff;border-color:var(--y2)}
.tc{background:rgba(255,255,255,.3);padding:1px 7px;border-radius:10px;font-size:.6rem}
.tdl{background:none;border:none;cursor:pointer;font-size:.7rem;color:rgba(255,255,255,.6);padding:0 2px}
.tb.on .tdl:hover{color:#fff}
.nt{padding:7px 12px;border-radius:20px;border:2px dashed rgba(244,196,48,.35);background:transparent;cursor:pointer;font-size:.9rem;color:var(--y2);transition:.25s;flex-shrink:0}
.nt:hover{background:var(--bgw)}
.va{text-align:center}
.mcw{position:relative;display:inline-block;margin:8px 0}
.rng{position:absolute;inset:-8px;border-radius:50%;border:3px solid transparent;transition:.3s}
.rng.on{border-color:#E57373;animation:rp 1.5s ease-in-out infinite}
@keyframes rp{0%,100%{transform:scale(1);opacity:1}50%{transform:scale(1.18);opacity:.4}}
.mcb{width:64px;height:64px;border-radius:50%;border:none;background:linear-gradient(135deg,var(--y1),var(--y3));color:#fff;font-size:1.6rem;cursor:pointer;transition:.3s;box-shadow:0 4px 16px rgba(244,196,48,.35);position:relative;z-index:1}
.mcb:hover{transform:scale(1.06)}.mcb:active{transform:scale(.95)}
.mcb.on{background:linear-gradient(135deg,#EF5350,#C62828);box-shadow:0 4px 18px rgba(229,115,115,.4)}
.vs{font-size:.78rem;color:var(--ts);margin-top:6px;min-height:20px}
.vs.on{color:#E57373;font-weight:500}
.vt{background:var(--bgw);border-radius:10px;padding:8px 12px;margin-top:8px;font-size:.82rem;color:var(--tm);min-height:36px;display:flex;align-items:center;justify-content:center;border:1px dashed rgba(244,196,48,.22);word-break:break-word}
.hn{display:flex;flex-wrap:wrap;gap:4px;justify-content:center;margin-top:10px}
.hn span{background:var(--bgw);border:1px solid rgba(244,196,48,.12);border-radius:16px;padding:3px 10px;font-size:.63rem;color:var(--ts)}
.ar{display:flex;gap:6px}
.ip{flex:1;padding:10px 14px;border:2px solid rgba(244,196,48,.13);border-radius:10px;font-family:inherit;font-size:.85rem;background:var(--bgw);color:var(--td);outline:none;transition:.25s;min-width:0}
.ip:focus{border-color:var(--y1);box-shadow:0 0 0 3px rgba(244,196,48,.1)}
.ip::placeholder{color:var(--ts)}
.iq{width:54px;flex:none;text-align:center;padding:10px 4px}
.bt{padding:10px 16px;border:none;border-radius:10px;font-family:inherit;font-size:.8rem;font-weight:600;cursor:pointer;transition:.25s;white-space:nowrap}
.bs{background:linear-gradient(135deg,var(--y1),var(--y3));color:#fff;box-shadow:0 2px 10px rgba(244,196,48,.3)}
.bs:hover{box-shadow:0 4px 14px rgba(244,196,48,.4);transform:translateY(-1px)}
.bo{background:var(--wh);color:var(--br);border:2px solid rgba(244,196,48,.2)}
.bo:hover{border-color:var(--y1);background:var(--bgw)}
.ch{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.ctt{font-size:1rem;font-weight:600;display:flex;align-items:center;gap:7px}
.bdg{background:linear-gradient(135deg,var(--y1),var(--y2));color:#fff;font-size:.62rem;padding:2px 9px;border-radius:16px;font-weight:600}
.ca{background:none;border:1px solid rgba(229,115,115,.3);color:var(--dn);padding:5px 12px;border-radius:8px;font-family:inherit;font-size:.68rem;cursor:pointer;transition:.25s}
.ca:hover{background:var(--dn);color:#fff;border-color:var(--dn)}
.sw{position:relative;margin-bottom:10px}
.sw .si{position:absolute;left:11px;top:50%;transform:translateY(-50%);font-size:.8rem;opacity:.35}
.sw .ip{width:100%;padding-left:34px;font-size:.8rem;padding-top:8px;padding-bottom:8px}
.ul{list-style:none}
.em{text-align:center;padding:28px 10px;color:var(--ts)}
.em .ei{font-size:2.8rem;margin-bottom:8px;display:block}
.em p{font-size:.8rem;line-height:1.5}
.it{display:flex;align-items:center;gap:8px;padding:10px 9px;background:var(--bgw);border-radius:11px;margin-bottom:6px;border:1px solid rgba(244,196,48,.07);animation:iIn .35s ease;transition:.25s}
.it:hover{box-shadow:0 2px 12px rgba(244,196,48,.12)}
@keyframes iIn{from{opacity:0;transform:translateY(-10px) scale(.96)}to{opacity:1;transform:none}}
.it.out{animation:iOt .35s ease forwards}
@keyframes iOt{to{opacity:0;transform:translateX(30px) scale(.94);height:0;padding:0;margin:0;overflow:hidden}}
.it.done{opacity:.45}.it.done .nm{text-decoration:line-through}
.ck{width:18px;height:18px;accent-color:var(--y2);cursor:pointer;flex-shrink:0}
.num{width:24px;height:24px;border-radius:50%;background:linear-gradient(135deg,var(--y1),var(--y2));color:#fff;font-size:.62rem;font-weight:700;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.iinf{flex:1;min-width:0}
.nm{font-size:.85rem;font-weight:500;color:var(--td);word-break:break-word;line-height:1.3}
.itm{font-size:.6rem;color:var(--ts);margin-top:2px}
.qw{display:flex;align-items:center;gap:4px;flex-shrink:0}
.qb{width:24px;height:24px;border-radius:6px;border:1px solid rgba(244,196,48,.22);background:var(--wh);color:var(--br);font-size:.8rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:.2s}
.qb:hover{background:var(--y1);color:#fff;border-color:var(--y1)}
.qv{font-weight:600;font-size:.8rem;min-width:18px;text-align:center}
.iac{display:flex;gap:3px;flex-shrink:0}
.acb{width:28px;height:28px;border-radius:7px;border:none;cursor:pointer;font-size:.7rem;display:flex;align-items:center;justify-content:center;transition:.2s}
.ace{background:var(--okb);color:var(--gn)}.ace:hover{background:var(--gn);color:#fff}
.acd{background:var(--dnb);color:var(--dn)}.acd:hover{background:var(--dn);color:#fff}
.srow{display:flex;justify-content:space-between;padding:4px 0;font-size:.8rem;color:var(--tm)}
.srow.tot{border-top:2px dashed rgba(244,196,48,.22);padding-top:8px;margin-top:4px;font-weight:600;font-size:.88rem;color:var(--td)}
.abr{display:flex;gap:6px;flex-wrap:wrap}
.abr .bt{flex:1;text-align:center;font-size:.7rem;padding:9px 6px;min-width:calc(33% - 5px)}
.ov{position:fixed;inset:0;background:rgba(0,0,0,.3);backdrop-filter:blur(4px);z-index:500;display:none;align-items:center;justify-content:center;padding:16px}
.ov.open{display:flex}
.modal{background:var(--wh);border-radius:18px;padding:22px;width:100%;max-width:360px;box-shadow:0 10px 30px rgba(0,0,0,.13);animation:mIn .3s ease}
@keyframes mIn{from{opacity:0;transform:scale(.9)}to{opacity:1;transform:none}}
.modal h3{font-size:1rem;text-align:center;margin-bottom:14px;color:var(--td)}
.modal .ip{width:100%;margin-bottom:10px}
.mbt{display:flex;gap:8px;margin-top:6px}
.mbt .bt{flex:1}
.bgr{background:var(--bgw);color:var(--tm)}.bgr:hover{background:#eee}
.twr{position:fixed;top:14px;left:50%;transform:translateX(-50%);z-index:1000;display:flex;flex-direction:column;align-items:center;gap:6px;width:90%;max-width:340px;pointer-events:none}
.toast{padding:10px 18px;border-radius:12px;font-size:.8rem;font-family:inherit;color:#fff;box-shadow:0 4px 12px rgba(0,0,0,.13);animation:tIn .3s ease,tOt .3s ease 2.5s forwards;text-align:center;width:100%;pointer-events:auto}
.toast.s{background:linear-gradient(135deg,#66BB6A,#43A047)}
.toast.e{background:linear-gradient(135deg,#EF5350,#D32F2F)}
.toast.i{background:linear-gradient(135deg,var(--y1),var(--y3))}
@keyframes tIn{from{opacity:0;transform:translateY(-18px)}to{opacity:1;transform:none}}
@keyframes tOt{to{opacity:0;transform:translateY(-10px)}}
.ft{text-align:center;padding:16px;font-size:.65rem;color:var(--ts)}
@media(max-width:360px){.cn{padding:8px 6px 70px}.cd{padding:10px}.hdr h1{font-size:1.2rem}.mcb{width:52px;height:52px;font-size:1.3rem}.lb{font-size:.72rem;padding:8px 4px}.it{gap:5px;padding:8px 6px}.nm{font-size:.78rem}.iac{flex-direction:column;gap:2px}.acb{width:24px;height:24px;font-size:.6rem}.qb{width:22px;height:22px}.abr .bt{min-width:calc(50% - 4px)}}
@media(min-width:361px)and(max-width:430px){.cn{padding:10px 8px 80px}.cd{padding:12px}}
@media print{.va,.ar,.abr,.lr,.tw,.nt,.iac,.qw,.ca,.ck,.sw,.hn,.sun-bg,.dot-bg{display:none!important}body{background:#fff!important}.hdr{background:#fff!important}.hdr h1,.hdr p{color:#333!important;text-shadow:none!important}.cd{box-shadow:none!important;border:1px solid #ddd!important}}
</style>
</head>
<body>

<div class="sun-bg">
<div class="sf sf1"><svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"><g transform="translate(100,100)"><g fill="#F7C948"><ellipse cx="0" cy="-52" rx="16" ry="42"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(30)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(60)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(90)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(120)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(150)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(180)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(210)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(240)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(270)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(300)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(330)"/></g><circle r="26" fill="#5D4037"/><circle r="18" fill="#3E2723"/></g></svg></div>
<div class="sf sf2"><svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"><g transform="translate(100,100)"><g fill="#E8A817"><ellipse cx="0" cy="-52" rx="16" ry="42"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(30)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(60)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(90)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(120)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(150)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(180)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(210)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(240)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(270)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(300)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(330)"/></g><circle r="26" fill="#5D4037"/><circle r="18" fill="#3E2723"/></g></svg></div>
<div class="sf sf3"><svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"><g transform="translate(100,100)"><g fill="#F7C948"><ellipse cx="0" cy="-52" rx="16" ry="42"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(30)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(60)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(90)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(120)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(150)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(180)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(210)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(240)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(270)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(300)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(330)"/></g><circle r="26" fill="#5D4037"/><circle r="18" fill="#3E2723"/></g></svg></div>
<div class="sf sf4"><svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"><g transform="translate(100,100)"><g fill="#D4911E"><ellipse cx="0" cy="-52" rx="16" ry="42"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(30)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(60)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(90)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(120)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(150)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(180)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(210)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(240)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(270)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(300)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(330)"/></g><circle r="26" fill="#5D4037"/><circle r="18" fill="#3E2723"/></g></svg></div>
<div class="sf sf5"><svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"><g transform="translate(100,100)"><g fill="#F7C948"><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(15)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(45)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(75)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(105)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(135)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(165)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(195)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(225)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(255)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(285)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(315)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(345)"/></g><circle r="26" fill="#5D4037"/><circle r="18" fill="#3E2723"/></g></svg></div>
<div class="sf sf6"><svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"><g transform="translate(100,100)"><g fill="#E8A817"><ellipse cx="0" cy="-52" rx="16" ry="42"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(36)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(72)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(108)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(144)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(180)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(216)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(252)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(288)"/><ellipse cx="0" cy="-52" rx="16" ry="42" transform="rotate(324)"/></g><circle r="26" fill="#5D4037"/><circle r="18" fill="#3E2723"/></g></svg></div>
</div>
<div class="dot-bg"></div>

<div class="twr" id="toastBox"></div>

<div class="ov" id="editOv" onclick="if(event.target===this)closeEdit()">
<div class="modal"><h3>‚úèÔ∏è Edit Item</h3>
<input class="ip" id="edN" placeholder="Item name">
<input class="ip iq" id="edQ" type="number" min="1" value="1" style="width:100%">
<div class="mbt"><button class="bt bgr" onclick="closeEdit()">Cancel</button><button class="bt bs" onclick="saveEdit()">Save</button></div>
</div></div>

<div class="ov" id="newOv" onclick="if(event.target===this)this.classList.remove('open')">
<div class="modal"><h3>üìÇ New Cart</h3>
<input class="ip" id="ncN" placeholder="Cart name..." onkeydown="if(event.key==='Enter')makeCart()">
<div class="mbt"><button class="bt bgr" onclick="document.getElementById('newOv').classList.remove('open')">Cancel</button><button class="bt bs" onclick="makeCart()">Create</button></div>
</div></div>

<div class="mwrap">
<div class="hdr"><span class="logo">üåª</span><h1>Voice Cart</h1><p>Your smart shopping companion</p></div>
<div class="cn">

<div class="cd">
<div class="cl">üåê Item Display Script</div>
<div class="lr">
<button class="lb on" data-l="en" onclick="setLang('en')">üá¨üáß English (abc)</button>
<button class="lb" data-l="hi" onclick="setLang('hi')">üáÆüá≥ ‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (‡§Ö‡§¨‡§∏)</button>
</div>
<div style="margin-top:8px;font-size:.64rem;color:#A1887F;text-align:center;line-height:1.4">
English ‚Üí chawal, rice, doodh<br>‡§π‡§ø‡§®‡•ç‡§¶‡•Ä ‚Üí ‡§ö‡§æ‡§µ‡§≤, ‡§∞‡§æ‡§á‡§∏, ‡§¶‡•Ç‡§ß
</div>
</div>

<div class="cd">
<div class="cl">üìÇ My Carts</div>
<div class="tw"><div class="tsc" id="tabsEl"></div><button class="nt" onclick="openNC()">Ôºã</button></div>
</div>

<div class="cd va">
<div class="cl">üé§ Voice Command</div>
<div class="mcw"><div class="rng" id="ring"></div><button class="mcb" id="mic" onclick="toggleMic()">üéôÔ∏è</button></div>
<div class="vs" id="vst">Tap mic ‚Üí say "Add [item]" or "Remove [item]"</div>
<div class="vt" id="vtr">Waiting for your voice...</div>
<div class="hn">
<span>üó£Ô∏è "Add milk"</span>
<span>üó£Ô∏è "Add chawal"</span>
<span>üó£Ô∏è "Remove rice"</span>
<span>üó£Ô∏è "Remove doodh"</span>
<span>üó£Ô∏è "Clear cart"</span>
</div>
</div>

<div class="cd">
<div class="cl">‚ûï Add Manually</div>
<div class="ar">
<input class="ip" id="manI" placeholder="Type item name..." onkeydown="if(event.key==='Enter')manAdd()">
<input class="ip iq" id="manQ" type="number" value="1" min="1">
<button class="bt bs" onclick="manAdd()">Add</button>
</div>
</div>

<div class="cd">
<div class="ch">
<div class="ctt">üõí <span id="cName">My Cart</span> <span class="bdg" id="cCnt">0</span></div>
<button class="ca" onclick="clearAll()">Clear All</button>
</div>
<div class="sw"><span class="si">üîç</span><input class="ip" id="srch" placeholder="Search..." oninput="render()"></div>
<ul class="ul" id="listEl"></ul>
</div>

<div class="cd" id="sumEl" style="display:none">
<div class="cl">üìä Summary</div>
<div class="srow"><span>Total Items</span><span id="v1">0</span></div>
<div class="srow"><span>Total Qty</span><span id="v2">0</span></div>
<div class="srow"><span>Checked</span><span id="v3">0</span></div>
<div class="srow tot"><span>Remaining</span><span id="v4">0</span></div>
</div>

<div class="abr">
<button class="bt bo" onclick="copyCart()">üìã Copy</button>
<button class="bt bo" onclick="window.print()">üñ®Ô∏è Print</button>
<button class="bt bo" onclick="shareCart()">üì§ Share</button>
</div>

<div class="ft">üåª Sunflower Voice Cart ‚Äî Made with ‚ù§Ô∏è<br>Say "Add" or "Remove" before item name</div>
</div>
</div>

<script>
/* ============================================================
   TRANSLITERATION ENGINE
   English letters ‚Üî Devanagari script
   No translation. Only script conversion.
   "chawal" ‚Üí "‡§ö‡§æ‡§µ‡§≤", "rice" ‚Üí "‡§∞‡§æ‡§á‡§∏", "milk" ‚Üí "‡§Æ‡§ø‡§≤‡•ç‡§ï"
   ============================================================ */

var EN2HI = {
  'ksha':'‡§ï‡•ç‡§∑','gya':'‡§ú‡•ç‡§û','tra':'‡§§‡•ç‡§∞',
  'shha':'‡§∑‡§æ','sha':'‡§∂‡§æ','shh':'‡§∑','sh':'‡§∂',
  'kha':'‡§ñ‡§æ','gha':'‡§ò‡§æ','cha':'‡§ö‡§æ','chha':'‡§õ‡§æ','jha':'‡§ù‡§æ',
  'tha':'‡§•‡§æ','dha':'‡§ß‡§æ','pha':'‡§´‡§æ','bha':'‡§≠‡§æ',
  'khi':'‡§ñ‡§ø','ghi':'‡§ò‡§ø','chi':'‡§ö‡§ø','chhi':'‡§õ‡§ø','jhi':'‡§ù‡§ø',
  'thi':'‡§•‡§ø','dhi':'‡§ß‡§ø','phi':'‡§´‡§ø','bhi':'‡§≠‡§ø',
  'khu':'‡§ñ‡•Å','ghu':'‡§ò‡•Å','chu':'‡§ö‡•Å','chhu':'‡§õ‡•Å','jhu':'‡§ù‡•Å',
  'thu':'‡§•‡•Å','dhu':'‡§ß‡•Å','phu':'‡§´‡•Å','bhu':'‡§≠‡•Å',
  'khe':'‡§ñ‡•á','ghe':'‡§ò‡•á','che':'‡§ö‡•á','chhe':'‡§õ‡•á','jhe':'‡§ù‡•á',
  'the':'‡§•‡•á','dhe':'‡§ß‡•á','phe':'‡§´‡•á','bhe':'‡§≠‡•á',
  'kho':'‡§ñ‡•ã','gho':'‡§ò‡•ã','cho':'‡§ö‡•ã','chho':'‡§õ‡•ã','jho':'‡§ù‡•ã',
  'tho':'‡§•‡•ã','dho':'‡§ß‡•ã','pho':'‡§´‡•ã','bho':'‡§≠‡•ã',
  'kh':'‡§ñ','gh':'‡§ò','ch':'‡§ö','chh':'‡§õ','jh':'‡§ù',
  'th':'‡§•','dh':'‡§ß','ph':'‡§´','bh':'‡§≠',
  'ng':'‡§Ç‡§ó','nk':'‡§Ç‡§ï',
  'ka':'‡§ï‡§æ','ga':'‡§ó‡§æ','ja':'‡§ú‡§æ','ta':'‡§ü‡§æ','da':'‡§°‡§æ','na':'‡§®‡§æ','pa':'‡§™‡§æ','ba':'‡§¨‡§æ','ma':'‡§Æ‡§æ',
  'ya':'‡§Ø‡§æ','ra':'‡§∞‡§æ','la':'‡§≤‡§æ','va':'‡§µ‡§æ','wa':'‡§µ‡§æ','sa':'‡§∏‡§æ','ha':'‡§π‡§æ',
  'ki':'‡§ï‡§ø','gi':'‡§ó‡§ø','ji':'‡§ú‡§ø','ti':'‡§ü‡§ø','di':'‡§°‡§ø','ni':'‡§®‡§ø','pi':'‡§™‡§ø','bi':'‡§¨‡§ø','mi':'‡§Æ‡§ø',
  'yi':'‡§Ø‡§ø','ri':'‡§∞‡§ø','li':'‡§≤‡§ø','vi':'‡§µ‡§ø','wi':'‡§µ‡§ø','si':'‡§∏‡§ø','hi':'‡§π‡§ø',
  'ku':'‡§ï‡•Å','gu':'‡§ó‡•Å','ju':'‡§ú‡•Å','tu':'‡§ü‡•Å','du':'‡§°‡•Å','nu':'‡§®‡•Å','pu':'‡§™‡•Å','bu':'‡§¨‡•Å','mu':'‡§Æ‡•Å',
  'yu':'‡§Ø‡•Å','ru':'‡§∞‡•Å','lu':'‡§≤‡•Å','vu':'‡§µ‡•Å','wu':'‡§µ‡•Å','su':'‡§∏‡•Å','hu':'‡§π‡•Å',
  'ke':'‡§ï‡•á','ge':'‡§ó‡•á','je':'‡§ú‡•á','te':'‡§ü‡•á','de':'‡§°‡•á','ne':'‡§®‡•á','pe':'‡§™‡•á','be':'‡§¨‡•á','me':'‡§Æ‡•á',
  'ye':'‡§Ø‡•á','re':'‡§∞‡•á','le':'‡§≤‡•á','ve':'‡§µ‡•á','we':'‡§µ‡•á','se':'‡§∏‡•á','he':'‡§π‡•á',
  'ko':'‡§ï‡•ã','go':'‡§ó‡•ã','jo':'‡§ú‡•ã','to':'‡§ü‡•ã','do':'‡§°‡•ã','no':'‡§®‡•ã','po':'‡§™‡•ã','bo':'‡§¨‡•ã','mo':'‡§Æ‡•ã',
  'yo':'‡§Ø‡•ã','ro':'‡§∞‡•ã','lo':'‡§≤‡•ã','vo':'‡§µ‡•ã','wo':'‡§µ‡•ã','so':'‡§∏‡•ã','ho':'‡§π‡•ã',
  'k':'‡§ï‡•ç','g':'‡§ó‡•ç','j':'‡§ú‡•ç','t':'‡§ü‡•ç','d':'‡§°‡•ç','n':'‡§®‡•ç','p':'‡§™‡•ç','b':'‡§¨‡•ç','m':'‡§Æ‡•ç',
  'y':'‡§Ø‡•ç','r':'‡§∞‡•ç','l':'‡§≤‡•ç','v':'‡§µ‡•ç','w':'‡§µ‡•ç','s':'‡§∏‡•ç','h':'‡§π‡•ç',
  'aa':'‡§Ü','ee':'‡§à','oo':'‡§ä','ai':'‡§ê','au':'‡§î','ou':'‡§î',
  'a':'‡§Ö','i':'‡§á','u':'‡§â','e':'‡§è','o':'‡§ì',
  '0':'‡•¶','1':'‡•ß','2':'‡•®','3':'‡•©','4':'‡•™','5':'‡•´','6':'‡•¨','7':'‡•≠','8':'‡•Æ','9':'‡•Ø'
};

// Known word map for better accuracy
var WORD_EN2HI = {
  'chawal':'‡§ö‡§æ‡§µ‡§≤','rice':'‡§∞‡§æ‡§á‡§∏','milk':'‡§Æ‡§ø‡§≤‡•ç‡§ï','doodh':'‡§¶‡•Ç‡§ß','dudh':'‡§¶‡•Ç‡§ß',
  'eggs':'‡§è‡§ó‡•ç‡§∏','egg':'‡§è‡§ó','anda':'‡§Ö‡§Ç‡§°‡§æ','ande':'‡§Ö‡§Ç‡§°‡•á',
  'dal':'‡§¶‡§æ‡§≤','daal':'‡§¶‡§æ‡§≤','flour':'‡§´‡•ç‡§≤‡•ã‡§∞','aata':'‡§Ü‡§ü‡§æ','atta':'‡§Ü‡§ü‡§æ',
  'sugar':'‡§∂‡•Å‡§ó‡§∞','cheeni':'‡§ö‡•Ä‡§®‡•Ä','chini':'‡§ö‡•Ä‡§®‡•Ä','salt':'‡§∏‡§æ‡§≤‡•ç‡§ü','namak':'‡§®‡§Æ‡§ï',
  'oil':'‡§ë‡§á‡§≤','tel':'‡§§‡•á‡§≤','butter':'‡§¨‡§ü‡§∞','makhan':'‡§Æ‡§ï‡•ç‡§ñ‡§®','makkhan':'‡§Æ‡§ï‡•ç‡§ñ‡§®',
  'paneer':'‡§™‡§®‡•Ä‡§∞','bread':'‡§¨‡•ç‡§∞‡•á‡§°','roti':'‡§∞‡•ã‡§ü‡•Ä','chapati':'‡§ö‡§™‡§æ‡§§‡•Ä',
  'tomato':'‡§ü‡§Æ‡§æ‡§ü‡•ã','tamatar':'‡§ü‡§Æ‡§æ‡§ü‡§∞','potato':'‡§™‡•ã‡§ü‡•à‡§ü‡•ã','aloo':'‡§Ü‡§≤‡•Ç','aaloo':'‡§Ü‡§≤‡•Ç','alu':'‡§Ü‡§≤‡•Ç',
  'onion':'‡§ë‡§®‡§ø‡§Ø‡§®','pyaaz':'‡§™‡•ç‡§Ø‡§æ‡§ú‡§º','pyaj':'‡§™‡•ç‡§Ø‡§æ‡§ú',
  'garlic':'‡§ó‡§æ‡§∞‡•ç‡§≤‡§ø‡§ï','lahsun':'‡§≤‡§π‡§∏‡•Å‡§®','lehsun':'‡§≤‡§π‡§∏‡•Å‡§®',
  'ginger':'‡§ú‡§ø‡§Ç‡§ú‡§∞','adrak':'‡§Ö‡§¶‡§∞‡§ï','adarak':'‡§Ö‡§¶‡§∞‡§ï',
  'chilli':'‡§ö‡§ø‡§≤‡•ç‡§≤‡•Ä','mirch':'‡§Æ‡§ø‡§∞‡•ç‡§ö','mirchi':'‡§Æ‡§ø‡§∞‡•ç‡§ö‡•Ä',
  'turmeric':'‡§ü‡§∞‡•ç‡§Æ‡•á‡§∞‡§ø‡§ï','haldi':'‡§π‡§≤‡•ç‡§¶‡•Ä',
  'coriander':'‡§ï‡•ã‡§∞‡§ø‡§Ø‡§Ç‡§°‡§∞','dhaniya':'‡§ß‡§®‡§ø‡§Ø‡§æ','dhania':'‡§ß‡§®‡§ø‡§Ø‡§æ',
  'cumin':'‡§ï‡•ç‡§Ø‡•Ç‡§Æ‡§ø‡§®','jeera':'‡§ú‡•Ä‡§∞‡§æ','zeera':'‡§ú‡•Ä‡§∞‡§æ',
  'tea':'‡§ü‡•Ä','chai':'‡§ö‡§æ‡§Ø','chay':'‡§ö‡§æ‡§Ø',
  'coffee':'‡§ï‡•â‡§´‡§º‡•Ä','kafi':'‡§ï‡§æ‡§´‡§º‡•Ä',
  'water':'‡§µ‡§æ‡§ü‡§∞','paani':'‡§™‡§æ‡§®‡•Ä','pani':'‡§™‡§æ‡§®‡•Ä',
  'juice':'‡§ú‡•Ç‡§∏','joos':'‡§ú‡•Ç‡§∏',
  'apple':'‡§è‡§™‡•ç‡§™‡§≤','seb':'‡§∏‡•á‡§¨','sev':'‡§∏‡•á‡§¨',
  'banana':'‡§¨‡§®‡§æ‡§®‡§æ','kela':'‡§ï‡•á‡§≤‡§æ','kaila':'‡§ï‡•á‡§≤‡§æ',
  'orange':'‡§ë‡§∞‡•á‡§Ç‡§ú','santra':'‡§∏‡§Ç‡§§‡§∞‡§æ','santara':'‡§∏‡§Ç‡§§‡§∞‡§æ',
  'grapes':'‡§ó‡•ç‡§∞‡•á‡§™‡•ç‡§∏','angoor':'‡§Ö‡§Ç‡§ó‡•Ç‡§∞','angur':'‡§Ö‡§Ç‡§ó‡•Ç‡§∞',
  'mango':'‡§Æ‡•à‡§Ç‡§ó‡•ã','aam':'‡§Ü‡§Æ',
  'curd':'‡§ï‡§∞‡•ç‡§°','dahi':'‡§¶‡§π‡•Ä','dhai':'‡§¶‡§π‡•Ä',
  'yogurt':'‡§Ø‡•ã‡§ó‡§∞‡•ç‡§ü',
  'ghee':'‡§ò‡•Ä',
  'soap':'‡§∏‡•ã‡§™','sabun':'‡§∏‡§æ‡§¨‡•Å‡§®','saabun':'‡§∏‡§æ‡§¨‡•Å‡§®',
  'biscuit':'‡§¨‡§ø‡§∏‡•ç‡§ï‡•Å‡§ü','biscuits':'‡§¨‡§ø‡§∏‡•ç‡§ï‡•Å‡§ü‡•ç‡§∏','biskut':'‡§¨‡§ø‡§∏‡•ç‡§ï‡•Å‡§ü',
  'chocolate':'‡§ö‡•â‡§ï‡§≤‡•á‡§ü',
  'noodles':'‡§®‡•Ç‡§°‡§≤‡•ç‡§∏','maggi':'‡§Æ‡•à‡§ó‡•Ä',
  'cauliflower':'‡§ï‡•â‡§≤‡•Ä‡§´‡•ç‡§≤‡§æ‡§µ‡§∞','gobi':'‡§ó‡•ã‡§≠‡•Ä','gobhi':'‡§ó‡•ã‡§≠‡•Ä',
  'spinach':'‡§∏‡•ç‡§™‡§ø‡§®‡§ö','palak':'‡§™‡§æ‡§≤‡§ï',
  'peas':'‡§™‡•Ä‡§ú‡§º','matar':'‡§Æ‡§ü‡§∞','mattar':'‡§Æ‡§ü‡§∞',
  'carrot':'‡§ï‡•à‡§∞‡§ü','gajar':'‡§ó‡§æ‡§ú‡§∞','gaajar':'‡§ó‡§æ‡§ú‡§∞',
  'cucumber':'‡§ï‡•ç‡§Ø‡•Ç‡§ï‡§Ç‡§¨‡§∞','kheera':'‡§ñ‡•Ä‡§∞‡§æ','khira':'‡§ñ‡•Ä‡§∞‡§æ',
  'maida':'‡§Æ‡•à‡§¶‡§æ','besan':'‡§¨‡•á‡§∏‡§®',
  'suji':'‡§∏‡•Ç‡§ú‡•Ä','sooji':'‡§∏‡•Ç‡§ú‡•Ä',
  'ketchup':'‡§ï‡•á‡§ö‡§™','pickle':'‡§™‡§ø‡§ï‡§≤',
  'achaar':'‡§Ö‡§ö‡§æ‡§∞','achar':'‡§Ö‡§ö‡§æ‡§∞',
  'shampoo':'‡§∂‡•à‡§Æ‡•ç‡§™‡•Ç',
  'radish':'‡§∞‡•à‡§°‡§ø‡§∂','mooli':'‡§Æ‡•Ç‡§≤‡•Ä','muli':'‡§Æ‡•Ç‡§≤‡•Ä',
  'okra':'‡§ì‡§ï‡§∞‡§æ','bhindi':'‡§≠‡§ø‡§Ç‡§°‡•Ä','bhindee':'‡§≠‡§ø‡§Ç‡§°‡•Ä',
  'brinjal':'‡§¨‡•ç‡§∞‡§ø‡§Ç‡§ú‡§≤','baingan':'‡§¨‡•à‡§Ç‡§ó‡§®','baigan':'‡§¨‡•à‡§ó‡§®',
  'mustard':'‡§Æ‡§∏‡•ç‡§ü‡§∞‡•ç‡§°','sarso':'‡§∏‡§∞‡§∏‡•ã‡§Ç','sarson':'‡§∏‡§∞‡§∏‡•ã‡§Ç',
  'papad':'‡§™‡§æ‡§™‡§°‡§º','pappad':'‡§™‡§æ‡§™‡§°‡§º',
  'pasta':'‡§™‡§æ‡§∏‡•ç‡§§‡§æ','chicken':'‡§ö‡§ø‡§ï‡§®','chiken':'‡§ö‡§ø‡§ï‡§®',
  'murgi':'‡§Æ‡•Å‡§∞‡•ç‡§ó‡•Ä','murga':'‡§Æ‡•Å‡§∞‡•ç‡§ó‡§æ',
  'fish':'‡§´‡§ø‡§∂','machli':'‡§Æ‡§õ‡§≤‡•Ä','machhli':'‡§Æ‡§õ‡§≤‡•Ä',
  'toothpaste':'‡§ü‡•Ç‡§•‡§™‡•á‡§∏‡•ç‡§ü','sauce':'‡§∏‡•â‡§∏','cheese':'‡§ö‡•Ä‡§ú‡§º',
  'lemon':'‡§≤‡•á‡§Æ‡§®','nimbu':'‡§®‡§ø‡§Æ‡•ç‡§¨‡•Ç','nimboo':'‡§®‡§ø‡§Æ‡•ç‡§¨‡•Ç',
  'coconut':'‡§ï‡•ã‡§ï‡•ã‡§®‡§ü','nariyal':'‡§®‡§æ‡§∞‡§ø‡§Ø‡§≤',
  'mushroom':'‡§Æ‡§∂‡§∞‡•Ç‡§Æ','corn':'‡§ï‡•â‡§∞‡•ç‡§®','makka':'‡§Æ‡§ï‡•ç‡§ï‡§æ','makkai':'‡§Æ‡§ï‡•ç‡§ï‡§à',
  'honey':'‡§π‡§®‡•Ä','shahad':'‡§∂‡§π‡§¶','shehad':'‡§∂‡§π‡§¶',
  'chips':'‡§ö‡§ø‡§™‡•ç‡§∏','cream':'‡§ï‡•ç‡§∞‡•Ä‡§Æ',
  'paratha':'‡§™‡§∞‡§æ‡§†‡§æ','parantha':'‡§™‡§∞‡§æ‡§†‡§æ',
  'dosa':'‡§°‡•ã‡§∏‡§æ','idli':'‡§á‡§°‡§≤‡•Ä','sambar':'‡§∏‡§æ‡§Ç‡§≠‡§∞',
  'cardamom':'‡§ï‡§æ‡§∞‡•ç‡§°‡§Æ‡§Æ','elaichi':'‡§á‡§≤‡§æ‡§Ø‡§ö‡•Ä','ilaichi':'‡§á‡§≤‡§æ‡§Ø‡§ö‡•Ä',
  'clove':'‡§ï‡•ç‡§≤‡•ã‡§µ','laung':'‡§≤‡•å‡§Ç‡§ó',
  'cinnamon':'‡§∏‡§ø‡§®‡•á‡§Æ‡§®','dalchini':'‡§¶‡§æ‡§≤‡§ö‡•Ä‡§®‡•Ä',
  'fenugreek':'‡§´‡•á‡§®‡•Å‡§ó‡•ç‡§∞‡•Ä‡§ï','methi':'‡§Æ‡•á‡§•‡•Ä',
  'fennel':'‡§´‡•á‡§®‡§≤','saunf':'‡§∏‡•å‡§Ç‡§´','sauf':'‡§∏‡•å‡§Ç‡§´',
  'ajwain':'‡§Ö‡§ú‡§µ‡§æ‡§á‡§®','asafoetida':'‡§Ö‡§∏‡§æ‡§´‡•ã‡§è‡§ü‡§ø‡§°‡§æ','hing':'‡§π‡•Ä‡§Ç‡§ó','heeng':'‡§π‡•Ä‡§Ç‡§ó',
  'jam':'‡§ú‡•à‡§Æ','soda':'‡§∏‡•ã‡§°‡§æ','vinegar':'‡§µ‡§ø‡§®‡•á‡§ó‡§∞',
  'pepper':'‡§™‡•á‡§™‡•ç‡§™‡§∞','cabbage':'‡§ï‡•à‡§¨‡•á‡§ú',
  'capsicum':'‡§ï‡•à‡§™‡•ç‡§∏‡§ø‡§ï‡§Æ','shimla':'‡§∂‡§ø‡§Æ‡§≤‡§æ',
  'peanut':'‡§™‡•Ä‡§®‡§ü','peanuts':'‡§™‡•Ä‡§®‡§ü‡•ç‡§∏','moongfali':'‡§Æ‡•Ç‡§Ç‡§ó‡§´‡§≤‡•Ä',
  'almond':'‡§Ö‡§≤‡§Æ‡§Ç‡§°','almonds':'‡§Ö‡§≤‡§Æ‡§Ç‡§°‡•ç‡§∏','badam':'‡§¨‡§æ‡§¶‡§æ‡§Æ',
  'cashew':'‡§ï‡•à‡§∂‡•Ç','cashews':'‡§ï‡•à‡§∂‡•Ç‡§ú‡§º','kaju':'‡§ï‡§æ‡§ú‡•Ç',
  'raisin':'‡§∞‡•à‡§ú‡§º‡§ø‡§®','raisins':'‡§∞‡•à‡§ú‡§º‡§ø‡§®‡•ç‡§∏','kishmish':'‡§ï‡§ø‡§∂‡§Æ‡§ø‡§∂'
};

// Devanagari to English (reverse of WORD_EN2HI for known words)
var WORD_HI2EN = {};
for (var k in WORD_EN2HI) {
  var hVal = WORD_EN2HI[k];
  if (!WORD_HI2EN[hVal]) WORD_HI2EN[hVal] = k;
}

// Devanagari character to roman
var HI2EN_CHAR = {
  '‡§Ö':'a','‡§Ü':'aa','‡§á':'i','‡§à':'ee','‡§â':'u','‡§ä':'oo','‡§è':'e','‡§ê':'ai','‡§ì':'o','‡§î':'au',
  '‡§ï':'ka','‡§ñ':'kha','‡§ó':'ga','‡§ò':'gha','‡§ô':'nga',
  '‡§ö':'cha','‡§õ':'chha','‡§ú':'ja','‡§ù':'jha','‡§û':'nya',
  '‡§ü':'ta','‡§†':'tha','‡§°':'da','‡§¢':'dha','‡§£':'na',
  '‡§§':'ta','‡§•':'tha','‡§¶':'da','‡§ß':'dha','‡§®':'na',
  '‡§™':'pa','‡§´':'pha','‡§¨':'ba','‡§≠':'bha','‡§Æ':'ma',
  '‡§Ø':'ya','‡§∞':'ra','‡§≤':'la','‡§µ':'va','‡§∂':'sha','‡§∑':'sha','‡§∏':'sa','‡§π':'ha',
  '‡§æ':'a','‡§ø':'i','‡•Ä':'ee','‡•Å':'u','‡•Ç':'oo','‡•á':'e','‡•à':'ai','‡•ã':'o','‡•å':'au',
  '‡§Ç':'n','‡§É':'h','‡•ç':'','‡§Å':'n','‡§º':'',
  '‡§ï‡•ç‡§∑':'ksha','‡§§‡•ç‡§∞':'tra','‡§ú‡•ç‡§û':'gya',
  '‡•∞':'.','‡•§':'.',
  '‡•¶':'0','‡•ß':'1','‡•®':'2','‡•©':'3','‡•™':'4','‡•´':'5','‡•¨':'6','‡•≠':'7','‡•Æ':'8','‡•Ø':'9'
};

function isHindi(t){return /[\u0900-\u097F]/.test(t)}

function toEnScript(word) {
  if (!isHindi(word)) return word;
  if (WORD_HI2EN[word]) return WORD_HI2EN[word];
  var out = '';
  var chars = Array.from(word);
  for (var i = 0; i < chars.length; i++) {
    var two = chars[i] + (chars[i+1]||'');
    if (HI2EN_CHAR[two] !== undefined) { out += HI2EN_CHAR[two]; i++; }
    else if (HI2EN_CHAR[chars[i]] !== undefined) { out += HI2EN_CHAR[chars[i]]; }
    else { out += chars[i]; }
  }
  return out;
}

function toHiScript(word) {
  if (isHindi(word)) return word;
  var low = word.toLowerCase();
  if (WORD_EN2HI[low]) return WORD_EN2HI[low];
  // Character-by-character
  var out = '';
  var i = 0;
  var s = low;
  while (i < s.length) {
    var matched = false;
    for (var len = 4; len >= 1; len--) {
      var chunk = s.substring(i, i + len);
      if (EN2HI[chunk] !== undefined) {
        out += EN2HI[chunk];
        i += len;
        matched = true;
        break;
      }
    }
    if (!matched) { out += s[i]; i++; }
  }
  return out;
}

function convertScript(text, targetLang) {
  if (!text || !text.trim()) return text;
  var words = text.trim().split(/\s+/);
  var result = [];
  for (var i = 0; i < words.length; i++) {
    if (targetLang === 'hi') {
      result.push(toHiScript(words[i]));
    } else {
      result.push(toEnScript(words[i]));
    }
  }
  return result.join(' ');
}

/* ============================================================
   STATE
   ============================================================ */
var carts = JSON.parse(localStorage.getItem('svc2_d')) || [{name:'My Cart',items:[]}];
var aIdx = parseInt(localStorage.getItem('svc2_i')) || 0;
var lang = localStorage.getItem('svc2_l') || 'en';
var editIdx = -1;
var recognition = null;
var isListening = false;
if (aIdx >= carts.length) aIdx = 0;

function save(){localStorage.setItem('svc2_d',JSON.stringify(carts));localStorage.setItem('svc2_i',aIdx);localStorage.setItem('svc2_l',lang)}
function C(){return carts[aIdx]}
function items(){return C().items}

/* ============================================================
   TOAST
   ============================================================ */
function toast(msg,type){
  var el=document.createElement('div');
  el.className='toast '+(type||'i');
  el.textContent=msg;
  document.getElementById('toastBox').appendChild(el);
  setTimeout(function(){if(el.parentNode)el.remove()},3000);
}

/* ============================================================
   LANGUAGE
   ============================================================ */
function setLang(l){
  lang=l;save();
  document.querySelectorAll('.lb').forEach(function(b){b.classList.toggle('on',b.getAttribute('data-l')===l)});
  render();
}

/* ============================================================
   CART TABS
   ============================================================ */
function renderTabs(){
  var el=document.getElementById('tabsEl');el.innerHTML='';
  for(var i=0;i<carts.length;i++){
    (function(idx){
      var b=document.createElement('button');
      b.className='tb'+(idx===aIdx?' on':'');
      b.innerHTML='<span>'+esc(carts[idx].name)+'</span><span class="tc">'+carts[idx].items.length+'</span>';
      if(carts.length>1){var x=document.createElement('button');x.className='tdl';x.textContent='√ó';x.onclick=function(e){e.stopPropagation();delCart(idx)};b.appendChild(x)}
      b.onclick=function(){aIdx=idx;save();renderTabs();render();document.getElementById('cName').textContent=C().name};
      el.appendChild(b);
    })(i);
  }
  document.getElementById('cName').textContent=C().name;
}
function openNC(){document.getElementById('ncN').value='';document.getElementById('newOv').classList.add('open');setTimeout(function(){document.getElementById('ncN').focus()},100)}
function makeCart(){var n=document.getElementById('ncN').value.trim()||('Cart '+(carts.length+1));carts.push({name:n,items:[]});aIdx=carts.length-1;save();document.getElementById('newOv').classList.remove('open');renderTabs();render();toast('üõí '+n+' created!','s')}
function delCart(i){if(carts.length<=1){toast('Need at least 1 cart','e');return}if(!confirm('Delete "'+carts[i].name+'"?'))return;var nm=carts[i].name;carts.splice(i,1);if(aIdx>=carts.length)aIdx=carts.length-1;save();renderTabs();render();toast(nm+' deleted','e')}

/* ============================================================
   CART OPERATIONS
   ============================================================ */
function addItem(rawName,qty){
  rawName=rawName.trim();if(!rawName)return;qty=qty||1;
  var displayName=convertScript(rawName,lang);
  if(!displayName.trim())displayName=rawName;
  var list=items();var found=-1;
  for(var i=0;i<list.length;i++){if(list[i].name.toLowerCase()===displayName.toLowerCase()){found=i;break}}
  if(found>-1){list[found].qty+=qty;toast(displayName+' √ó'+list[found].qty,'s')}
  else{list.push({name:displayName,qty:qty,checked:false,time:new Date().toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'})});toast('‚úÖ '+displayName+' added!','s')}
  save();renderTabs();render();
}

function removeItem(rawName){
  rawName=rawName.trim();if(!rawName)return;
  var displayName=convertScript(rawName,lang);
  var list=items();var idx=-1;
  for(var i=0;i<list.length;i++){if(list[i].name.toLowerCase()===displayName.toLowerCase()){idx=i;break}}
  if(idx===-1){for(var i=0;i<list.length;i++){if(list[i].name.toLowerCase()===rawName.toLowerCase()){idx=i;break}}}
  if(idx===-1){var alt=convertScript(rawName,lang==='en'?'hi':'en');for(var i=0;i<list.length;i++){if(list[i].name.toLowerCase()===alt.toLowerCase()){idx=i;break}}}
  if(idx===-1){var dl=displayName.toLowerCase();var rl=rawName.toLowerCase();for(var i=0;i<list.length;i++){var nl=list[i].name.toLowerCase();if(nl.indexOf(dl)!==-1||nl.indexOf(rl)!==-1){idx=i;break}}}
  if(idx>-1){var nm=list[idx].name;var els=document.querySelectorAll('.it');if(els[idx]){els[idx].classList.add('out');setTimeout(function(){list.splice(idx,1);save();renderTabs();render()},350)}else{list.splice(idx,1);save();renderTabs();render()}toast('üóëÔ∏è '+nm+' removed!','e')}
  else{toast('‚ùå "'+rawName+'" not found','e')}
}

function removeIdx(idx){var list=items();var nm=list[idx].name;var els=document.querySelectorAll('.it');if(els[idx]){els[idx].classList.add('out');setTimeout(function(){list.splice(idx,1);save();renderTabs();render()},350)}else{list.splice(idx,1);save();renderTabs();render()}toast('üóëÔ∏è '+nm+' removed!','e')}
function chgQty(idx,d){var list=items();list[idx].qty+=d;if(list[idx].qty<=0){removeIdx(idx);return}save();render()}
function togChk(idx){items()[idx].checked=!items()[idx].checked;save();render()}
function clearAll(){if(!items().length){toast('Cart is empty!','i');return}if(!confirm('Clear all items?'))return;C().items=[];save();renderTabs();render();toast('üßπ Cart cleared!','i')}
function manAdd(){var inp=document.getElementById('manI');var qi=document.getElementById('manQ');var n=inp.value.trim();var q=parseInt(qi.value)||1;if(n){addItem(n,q);inp.value='';qi.value=1;inp.focus()}}

/* ============================================================
   EDIT MODAL
   ============================================================ */
function openEdit(idx){editIdx=idx;document.getElementById('edN').value=items()[idx].name;document.getElementById('edQ').value=items()[idx].qty;document.getElementById('editOv').classList.add('open');setTimeout(function(){document.getElementById('edN').focus()},100)}
function closeEdit(){editIdx=-1;document.getElementById('editOv').classList.remove('open')}
function saveEdit(){if(editIdx<0)return;var n=document.getElementById('edN').value.trim();var q=parseInt(document.getElementById('edQ').value)||1;if(n){items()[editIdx].name=n;items()[editIdx].qty=q;save();render();toast('‚úèÔ∏è Updated!','s')}closeEdit()}

/* ============================================================
   RENDER CART LIST
   ============================================================ */
function render(){
  var list=items();var el=document.getElementById('listEl');var q=document.getElementById('srch').value.toLowerCase();
  if(!list.length){el.innerHTML='<div class="em"><span class="ei">üåª</span><p>Your cart is empty!<br>Add items using voice or type above.</p></div>';document.getElementById('sumEl').style.display='none';document.getElementById('cCnt').textContent='0';return}
  var html='';var num=0;
  for(var i=0;i<list.length;i++){var it=list[i];if(q&&it.name.toLowerCase().indexOf(q)===-1)continue;num++;
    html+='<li class="it'+(it.checked?' done':'')+'"><input type="checkbox" class="ck"'+(it.checked?' checked':'')+' onchange="togChk('+i+')"><span class="num">'+num+'</span><div class="iinf"><div class="nm">'+esc(it.name)+'</div><div class="itm">üïê '+(it.time||'')+'</div></div><div class="qw"><button class="qb" onclick="chgQty('+i+',-1)">‚àí</button><span class="qv">'+it.qty+'</span><button class="qb" onclick="chgQty('+i+',1)">+</button></div><div class="iac"><button class="acb ace" onclick="openEdit('+i+')">‚úèÔ∏è</button><button class="acb acd" onclick="removeIdx('+i+')">üóëÔ∏è</button></div></li>';
  }
  if(!num&&q)html='<div class="em"><span class="ei">üîç</span><p>No match found</p></div>';
  el.innerHTML=html;document.getElementById('cCnt').textContent=list.length;
  var tq=0,ck=0;for(var i=0;i<list.length;i++){tq+=list[i].qty;if(list[i].checked)ck++}
  document.getElementById('sumEl').style.display='block';
  document.getElementById('v1').textContent=list.length;document.getElementById('v2').textContent=tq;
  document.getElementById('v3').textContent=ck+'/'+list.length;document.getElementById('v4').textContent=list.length-ck;
}
function esc(s){var d=document.createElement('div');d.textContent=s;return d.innerHTML}

/* ============================================================
   VOICE RECOGNITION
   ============================================================ */
function setupRec(){
  var SR=window.SpeechRecognition||window.webkitSpeechRecognition;
  if(!SR){document.getElementById('vst').textContent='Speech not supported in this browser';document.getElementById('mic').style.opacity=0.4;return null}
  var r=new SR();
  r.continuous=false;r.interimResults=true;r.maxAlternatives=3;r.lang='en-IN';
  r.onstart=function(){
    isListening=true;
    document.getElementById('mic').classList.add('on');
    document.getElementById('ring').classList.add('on');
    document.getElementById('vst').textContent='üî¥ Listening... speak now!';
    document.getElementById('vst').classList.add('on');
  };
  r.onresult=function(e){
    var fin='',tmp='';
    for(var i=e.resultIndex;i<e.results.length;i++){
      if(e.results[i].isFinal) fin+=e.results[i][0].transcript;
      else tmp+=e.results[i][0].transcript;
    }
    document.getElementById('vtr').textContent='"'+(fin||tmp)+'"';
    if(fin) processVoice(fin.trim());
  };
  r.onerror=function(ev){
    stopMic();
    if(ev.error==='no-speech') toast('No speech detected, try again','e');
  };
  r.onend=function(){stopMic()};
  return r;
}

function toggleMic(){
  if(isListening){if(recognition)recognition.stop();stopMic();return}
  recognition=setupRec();
  if(recognition){try{recognition.start()}catch(e){console.log(e)}}
}

function stopMic(){
  isListening=false;
  document.getElementById('mic').classList.remove('on');
  document.getElementById('ring').classList.remove('on');
  document.getElementById('vst').textContent='Tap mic ‚Üí say "Add [item]" or "Remove [item]"';
  document.getElementById('vst').classList.remove('on');
}

/* ============================================================
   PROCESS VOICE COMMAND
   Only "Add X" and "Remove X" are valid commands.
   Whatever word user speaks after Add/Remove ‚Üí that exact word
   gets script-converted to selected language and stored.
   ============================================================ */
function processVoice(raw){
  var cmd=raw.trim();
  var lower=cmd.toLowerCase();
  console.log('Heard:',cmd);

  // === CLEAR CART ===
  var clears=['clear cart','clear all','empty cart','delete all','remove all','clear the cart'];
  for(var i=0;i<clears.length;i++){
    if(lower.indexOf(clears[i])!==-1){clearAll();return}
  }

  // === REMOVE ===
  var removePatterns=[
    /^remove\s+the\s+(.+)/i,
    /^remove\s+(.+)/i,
    /^delete\s+the\s+(.+)/i,
    /^delete\s+(.+)/i
  ];
  for(var i=0;i<removePatterns.length;i++){
    var m=cmd.match(removePatterns[i]);
    if(m&&m[1]){
      removeItem(m[1].trim());
      return;
    }
  }

  // === ADD ===
  var addPatterns=[
    /^add\s+the\s+(.+)/i,
    /^add\s+(.+)/i,
    /^put\s+the\s+(.+)/i,
    /^put\s+(.+)/i
  ];
  for(var i=0;i<addPatterns.length;i++){
    var m=cmd.match(addPatterns[i]);
    if(m&&m[1]){
      addItem(m[1].trim());
      return;
    }
  }

  // === NO COMMAND MATCHED ===
  toast('‚ö†Ô∏è Say "Add" or "Remove" before item name','i');
}

/* ============================================================
   EXPORT / SHARE / COPY
   ============================================================ */
function copyCart(){
  var list=items();
  if(!list.length){toast('Cart is empty!','i');return}
  var t='üåª '+C().name+'\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n';
  for(var i=0;i<list.length;i++){
    t+=(list[i].checked?'‚úÖ':'‚¨ú')+' '+(i+1)+'. '+list[i].name+' (x'+list[i].qty+')\n';
  }
  t+='‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\nTotal: '+list.length+' items';
  doCopy(t);
}

function shareCart(){
  var list=items();
  if(!list.length){toast('Cart is empty!','i');return}
  var t='üåª '+C().name+':\n';
  for(var i=0;i<list.length;i++){
    t+=(i+1)+'. '+list[i].name+' (x'+list[i].qty+')\n';
  }
  if(navigator.share){
    navigator.share({title:'üåª Cart',text:t}).catch(function(){});
  }else{
    doCopy(t);
  }
}

function doCopy(t){
  if(navigator.clipboard&&navigator.clipboard.writeText){
    navigator.clipboard.writeText(t).then(function(){toast('üìã Copied!','s')}).catch(function(){fbCopy(t)});
  }else{fbCopy(t)}
}

function fbCopy(t){
  var a=document.createElement('textarea');
  a.value=t;a.style.position='fixed';a.style.left='-9999px';
  document.body.appendChild(a);a.select();
  try{document.execCommand('copy');toast('üìã Copied!','s')}
  catch(e){toast('Copy failed','e')}
  document.body.removeChild(a);
}

/* ============================================================
   KEYBOARD SHORTCUTS
   ============================================================ */
document.addEventListener('keydown',function(e){
  if(e.ctrlKey&&e.shiftKey&&(e.key==='V'||e.key==='v')){e.preventDefault();toggleMic()}
  if(e.key==='Escape'){closeEdit();document.getElementById('newOv').classList.remove('open')}
});

/* ============================================================
   INIT - Run on page load
   ============================================================ */
setLang(lang);
renderTabs();
render();
</script>
</body>
</html>